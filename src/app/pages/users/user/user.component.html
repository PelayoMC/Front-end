<div class="row">
    <div class="col-lg-6">
        <div class="card">
            <div class="card-body">
                <h2>Perfil de usuario</h2>
                <form ngNativeValidate [formGroup]="form" class="form p-t-20" (ngSubmit)="modificar()">
                    <div class="form-group">
                        <label for="name">Nombre</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input #name formControlName="nombre" type="text" name="nombre" [class.is-invalid]="nombreNoValido()" class="form-control" placeholder="Introducir nombre">
                        </div>
                        <small *ngIf="nombreNoValido()" class="form-text text-danger">El nombre es obligatorio</small>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-email"></i></div>
                            <input #email formControlName="email" type="email" name="email" [class.is-invalid]="emailNoValido()" [disabled]="usuario.google" class="form-control" placeholder="Introducir email">
                        </div>
                        <small *ngIf="emailNoValido()" class="form-text text-danger">El email es obligatorio</small>
                    </div>
                    <div *ngIf="usuario.rol === 'USER'">
                        <h3>Datos personales</h3>
                        <span class="text text-warning">(necesarios para la solicitud de dietas)</span>
                        <br><br>
                        <div class="form-group">
                            <label for="edad">Edad</label>
                            <div class="input-group">
                                <input #edad formControlName="edad" type="number" name="edad" [class.is-invalid]="edadNoValido()" class="form-control" placeholder="Introducir edad">
                            </div>
                            <small *ngIf="edadNoValido()" class="form-text text-danger">La edad es obligatoria</small>
                        </div>
                        <div class="form-group">
                            <label for="altura">Altura</label>
                            <div class="input-group">
                                <input #altura formControlName="altura" type="number" name="altura" [class.is-invalid]="alturaNoValido()" step="any" class="form-control" placeholder="Introducir altura">
                            </div>
                            <small *ngIf="alturaNoValido()" class="form-text text-danger">La altura es obligatoria</small>
                        </div>
                        <div class="form-group">
                            <label for="peso">Peso</label>
                            <div class="input-group">
                                <input #peso formControlName="peso" type="number" name="peso" [class.is-invalid]="pesoNoValido()" step="any" class="form-control" placeholder="Introducir peso">
                            </div>
                            <small *ngIf="pesoNoValido()" class="form-text text-danger">El peso es obligatorio</small>
                        </div>
                    </div>
                    <div *ngIf="modificando">
                        <button (click)="(modificando = !modificando); swapForm()" class="btn btn-info waves-effect waves-light">Modificar</button>
                    </div>
                    <div *ngIf="!modificando">
                        <button type="submit" class="btn btn-info waves-effect waves-light m-r-10">Aceptar</button>
                        <button (click)="(modificando = !modificando); swapForm()" class="btn btn-inverse waves-effect waves-light">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="col-lg-5">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Imagen de usuario</h4>
                <img *ngIf="!imgTemp" [src]="usuario.imagen | image" class="img-profile">
                <h6 *ngIf="imgTemp">Vista previa</h6>
                <img *ngIf="imgTemp" [src]="imgTemp" class="img-profile">
                <br>
                <br>
                <!-- Con el event seleccionamos la imagen cuando cambia el input -->
                <input (change)="chooseImage($event.target.files[0])" type="file">
                <br>
                <br>
                <button (click)="changeImage()" [disabled]="!imgUpload" type="button" class="btn btn-info">Actualizar imagen</button>
            </div>
        </div>
    </div>
</div>